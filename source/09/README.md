### Cookie & Session
------
> 1. cookie.php 为cookie示例
> 2. session.php 为session示例
> 3. demo验证cookie设置并非立马生效，session比较实时

* Cookie 是一种发送到客户浏览器的文本串句柄，并保存在客户机硬盘上，可以用来在某个WEB站点会话间持久的保持数据。

* Session其实指的就是访问者从到达某个特定主页到离开为止的那段时间。 Session其实是利用Cookie进行信息处理的，当用户首先进行了请求后，服务端就在用户浏览器上创建了一个Cookie，当这个Session结束时，其实就是意味着这个Cookie就过期了。

【注】为用户创建的Cookie名称是aspsessionid。这个Cookie的唯一目的就是为每一个用户提供不同的身份认证。

### 共同点
------
* Cookie和Session都是用来跟踪浏览器用户身份的会话方式。

### 不同点
------
* Cookie数据保存在客户端，Session数据保存在服务器端。

### 分析
------

> 简单说，当你登录一个网站

* 如果WEB服务器端使用的是`Session`，那么所有的数据都保存在服务器上，客户端每次请求服务器的时候会发送当前会话的`sessionid`，服务器根据当前`sessionid`判断相应的用户数据标识，以确定用户是否登录或具有权限。由于数据是存储在服务器上面，所以你不能伪造，但是如果你能够获取某个登录用户的`sessionid`，用特殊的浏览器伪造该用户的请求也是能够成功的。`sessionid`是服务器和客户端链接时候随机分配的，正常情况下不会有重复，但如果有大量的并发请求，也不是没有重复的可能性。

* 如果WEB服务器端使用的是`Cookie`，那么所有的数据都保存在浏览器端，比如你登录以后，服务器设置了`Cookie`用户名，那么当你再次请求服务器的时候，浏览器会将用户名一块发送给服务器，这些变量有一定的特殊标记。服务器会解释为`Cookie`变量，所以只要不关闭浏览器，那么`Cookie`变量一直是有效的，所以能够保证长时间不掉线。如果你能够截获某个用户的`Cookie`变量，然后伪造一个数据包发送过去，那么服务器还是认为你是合法的。所以，使用`Cookie`被攻击的可能性比较大。如果设置了的有效时间，那么它会将`Cookie`保存在客户端的硬盘上，下次再访问该网站的时候，浏览器先检查有没有`Cookie`，如果有的话，就读取该`Cookie`，然后发送给服务器。如果你在浏览上面保存了某个网站 `Cookie`，有效期是一年，如果有人入侵你的机器，将你的`Cookie`拷走，然后放在他的浏览器的目录下面，那么他登录该网站的时候就是用你的的身份登录的。所以`Cookie`是可以伪造的。当然，伪造的时候需要主意，直接Copy Cookie文件到Cookie目录，浏览器是不认的，他有一个index.dat文件，存储了Cookie文件的建立时间，以及是否有修改，所以你必须先要有该网站的Cookie文件，并且要从保证时间上骗过浏览器。
所以说`Cookie`不是很安全，别人可以分析存放在本地的`Cookie`并进行`Cookie`欺骗,如果主要考虑到安全应当使用`Session`。

* `Session`会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能，如果主要考虑到减轻服务器性能方面，应当使用`Cookie`
* 单个`Cookie`在客户端的大小限制是3K。

### 总结
------
* 将重要信息存放为`Session`，其他信息如果需要保留，应该考虑放在`Cookie`中。